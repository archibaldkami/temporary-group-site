{% extends "base.html" %}
{% block title %}Деталі замовлення{% endblock %}
{% block content %}
<div class="order-details p-8 bg-white rounded-lg shadow-lg">
    <h1 class="text-3xl font-bold text-center mb-4">Деталі замовлення #{{ order['id'] }}</h1>
  
    <div class="order-info space-y-2">
      <p><span class="font-medium">Email:</span> {{ order['email'] }}</p>
      <p><span class="font-medium">Адреса:</span> {{ order['address'] }}</p>
      <p><span class="font-medium">Загальна сума:</span> {{ order['total_price'] }} грн</p>
      <p><span class="font-medium">Статус:</span> {{ order['status'] }}</p>
      <p><span class="font-medium">Дата:</span> {{ order['date'] }}</p>
    </div>
  
    <table class="order-items w-full mt-6">
      <thead>
        <tr class="border-b">
          <th class="text-left pb-2">Назва</th>
          <th class="text-left pb-2">Ціна</th>
          <th class="text-left pb-2">Кількість</th>
          <th class="text-left pb-2">Сума</th>
        </tr>
      </thead>
      <tbody>
        {% for item in items %}
        <tr class="border-b">
          <td class="py-2">{{ item['name'] }}</td>
          <td class="py-2">{{ item['price'] }} грн</td>
          <td class="py-2">{{ item['quantity'] }}</td>
          <td class="py-2">{{ item['price'] * item['quantity'] }} грн</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  
    <div class="order-status-update mt-6">
      <h2 class="text-2xl font-bold mb-2">Змінити статус замовлення</h2>
      <form action="{{ url_for('admin.update_order', order_id=order['id']) }}" method="post" class="mb-4">
        <select name="status" class="p-2 border rounded mr-2">
          <option value="Нове" {% if order['status'] == 'Нове' %}selected{% endif %}>Нове</option>
          <option value="В обробці" {% if order['status'] == 'В обробці' %}selected{% endif %}>В обробці</option>
          <option value="Відправлено" {% if order['status'] == 'Відправлено' %}selected{% endif %}>Відправлено</option>
          <option value="Доставлено" {% if order['status'] == 'Доставлено' %}selected{% endif %}>Доставлено</option>
          <option value="Скасовано" {% if order['status'] == 'Скасовано' %}selected{% endif %}>Скасовано</option>
        </select>
        <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">Оновити статус</button>
      </form>
    </div>
  
    <div class="return-link mt-6">
      <a href="{{ url_for('admin.admin') }}" class="text-blue-500 hover:underline">Повернутися до списку замовлень</a>
    </div>
  </div>
{% endblock %}